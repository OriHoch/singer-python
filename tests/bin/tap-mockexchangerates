#!/usr/bin/env sh

echo INFO Replicating exchange rate data from exchangeratesapi.io starting from 2018-10-21 >&2
echo '{"key_properties": ["date"], "type": "SCHEMA", "stream": "exchange_rate", "schema": {"type": "object", "additionalProperties": true, "properties": {"date": {"type": "string", "format": "date-time"}}}}
{"record": {"TRY": 1.5383368687, "PLN": 1.0252639607, "JPY": 30.7576804824, "IDR": 4151.8840717878, "MXN": 5.2175084015, "NZD": 0.4142097862, "CZK": 6.1651214338, "ISK": 32.0566294063, "HRK": 1.7707414734, "GBP": 0.2097862097, "HKD": 2.1430273852, "SGD": 0.3765760183, "date": "2018-10-19T00:00:00Z", "BGN": 0.4661439092, "CAD": 0.3562456801, "DKK": 1.7781538242, "MYR": 1.1364253879, "CNY": 1.8945348809, "SEK": 2.4634268418, "CHF": 0.2722072598, "BRL": 1.0096527397, "RON": 1.1122101199, "KRW": 308.9138880282, "USD": 0.2733751221, "PHP": 14.6828896251, "AUD": 0.3828920085, "INR": 20.0498129037, "EUR": 0.2383392521, "THB": 8.9038777796, "NOK": 2.2527349429, "ZAR": 3.920656863, "RUB": 17.933074338, "HUF": 77.0312462759, "ILS": 1.0}, "type": "RECORD", "stream": "exchange_rate"}
{"record": {"TRY": 1.5483610067, "PLN": 1.0206241972, "JPY": 30.8363861268, "IDR": 4155.2214662924, "MXN": 5.2766544555, "NZD": 0.4160997193, "CZK": 6.1487225843, "ISK": 32.161377801, "HRK": 1.768043199, "GBP": 0.2103454018, "HKD": 2.143465436, "SGD": 0.3771587611, "date": "2018-10-22T00:00:00Z", "BGN": 0.4652457301, "CAD": 0.357866692, "DKK": 1.7746562634, "MYR": 1.1369950997, "CNY": 1.8983062943, "SEK": 2.4575384176, "CHF": 0.2725153433, "BRL": 1.0131309767, "RON": 1.1101622342, "KRW": 309.4224273277, "USD": 0.2734192873, "PHP": 14.7107379038, "AUD": 0.3850088016, "INR": 20.1118036063, "EUR": 0.2378800133, "THB": 8.9614158618, "NOK": 2.2524382701, "ZAR": 3.9071792188, "RUB": 17.8511584757, "HUF": 76.8637899044, "ILS": 1.0}, "type": "RECORD", "stream": "exchange_rate"}
{"type": "STATE", "value": {"start_date": "2018-10-22"}}'
echo INFO Tap exiting normally >&2
